(()=>{"use strict";var __webpack_modules__={676:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{let t7ctx;__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__}),t7ctx="undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void 0;const Template7Context=t7ctx,Template7Utils={quoteSingleRexExp:new RegExp("'","g"),quoteDoubleRexExp:new RegExp('"',"g"),isFunction:e=>"function"==typeof e,escape:(e="")=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),helperToSlices(e){const{quoteDoubleRexExp:t,quoteSingleRexExp:r}=Template7Utils,n=e.replace(/[{}#}]/g,"").trim().split(" "),i=[];let a,s,o;for(s=0;s<n.length;s+=1){let e,l,p=n[s];if(0===s)i.push(p);else if(0===p.indexOf('"')||0===p.indexOf("'"))if(e=0===p.indexOf('"')?t:r,l=0===p.indexOf('"')?'"':"'",2===p.match(e).length)i.push(p);else{for(a=0,o=s+1;o<n.length;o+=1)if(p+=` ${n[o]}`,n[o].indexOf(l)>=0){a=o,i.push(p);break}a&&(s=a)}else if(p.indexOf("=")>0){const c=p.split("="),u=c[0];let d=c[1];if(e||(e=0===d.indexOf('"')?t:r,l=0===d.indexOf('"')?'"':"'"),2!==d.match(e).length){for(a=0,o=s+1;o<n.length;o+=1)if(d+=` ${n[o]}`,n[o].indexOf(l)>=0){a=o;break}a&&(s=a)}const f=[u,d.replace(e,"")];i.push(f)}else i.push(p)}return i},stringToBlocks(e){const t=[];let r,n;if(!e)return[];const i=e.split(/({{[^{^}]*}})/);for(r=0;r<i.length;r+=1){let e=i[r];if(""!==e)if(e.indexOf("{{")<0)t.push({type:"plain",content:e});else{if(e.indexOf("{/")>=0)continue;if(e=e.replace(/{{([#/])*([ ])*/,"{{$1").replace(/([ ])*}}/,"}}"),e.indexOf("{#")<0&&e.indexOf(" ")<0&&e.indexOf("else")<0){t.push({type:"variable",contextName:e.replace(/[{}]/g,"")});continue}const a=Template7Utils.helperToSlices(e);let s=a[0];const o=">"===s,l=[],p={};for(n=1;n<a.length;n+=1){const e=a[n];Array.isArray(e)?p[e[0]]="false"!==e[1]&&e[1]:l.push(e)}if(e.indexOf("{#")>=0){let e,a="",o="",c=0,u=!1,d=!1,f=0;for(n=r+1;n<i.length;n+=1)if(i[n].indexOf("{{#")>=0&&(f+=1),i[n].indexOf("{{/")>=0&&(f-=1),i[n].indexOf(`{{#${s}`)>=0)a+=i[n],d&&(o+=i[n]),c+=1;else if(i[n].indexOf(`{{/${s}`)>=0){if(!(c>0)){e=n,u=!0;break}c-=1,a+=i[n],d&&(o+=i[n])}else i[n].indexOf("else")>=0&&0===f?d=!0:(d||(a+=i[n]),d&&(o+=i[n]));u&&(e&&(r=e),"raw"===s?t.push({type:"plain",content:a}):t.push({type:"helper",helperName:s,contextName:l,content:a,inverseContent:o,hash:p}))}else e.indexOf(" ")>0&&(o&&(s="_partial",l[0]&&(0===l[0].indexOf("[")?l[0]=l[0].replace(/[[\]]/g,""):l[0]=`"${l[0].replace(/"|'/g,"")}"`)),t.push({type:"helper",helperName:s,contextName:l,hash:p}))}}return t},parseJsVariable:(e,t,r)=>e.split(/([+ \-*/^()&=|<>!%:?])/g).reduce(((e,n)=>{if(!n)return e;if(n.indexOf(t)<0)return e.push(n),e;if(!r)return e.push(JSON.stringify("")),e;let i=r;return n.indexOf(`${t}.`)>=0&&n.split(`${t}.`)[1].split(".").forEach((e=>{i=e in i?i[e]:void 0})),("string"==typeof i||Array.isArray(i)||i.constructor&&i.constructor===Object)&&(i=JSON.stringify(i)),void 0===i&&(i="undefined"),e.push(i),e}),[]).join(""),parseJsParents:(e,t)=>e.split(/([+ \-*^()&=|<>!%:?])/g).reduce(((e,r)=>{if(!r)return e;if(r.indexOf("../")<0)return e.push(r),e;if(!t||0===t.length)return e.push(JSON.stringify("")),e;const n=r.split("../").length-1;let i=n>t.length?t[t.length-1]:t[n-1];return r.replace(/..\//g,"").split(".").forEach((e=>{i=void 0!==i[e]?i[e]:"undefined"})),!1===i||!0===i?(e.push(JSON.stringify(i)),e):null===i||"undefined"===i?(e.push(JSON.stringify("")),e):(e.push(JSON.stringify(i)),e)}),[]).join(""),getCompileVar(e,t,r="data_1"){let n,i,a=t,s=0;0===e.indexOf("../")?(s=e.split("../").length-1,i=a.split("_")[1]-s,a=`ctx_${i>=1?i:1}`,n=e.split("../")[s].split(".")):0===e.indexOf("@global")?(a="Template7.global",n=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(a="root",n=e.split("@root.")[1].split(".")):n=e.split(".");for(let e=0;e<n.length;e+=1){const o=n[e];if(0===o.indexOf("@")){let t=r.split("_")[1];s>0&&(t=i),e>0?a+=`[(data_${t} && data_${t}.${o.replace("@","")})]`:a=`(data_${t} && data_${t}.${o.replace("@","")})`}else(Number.isFinite?Number.isFinite(o):Template7Context.isFinite(o))?a+=`[${o}]`:"this"===o||o.indexOf("this.")>=0||o.indexOf("this[")>=0||o.indexOf("this(")>=0?a=o.replace("this",t):a+=`.${o}`}return a},getCompiledArguments(e,t,r){const n=[];for(let i=0;i<e.length;i+=1)/^['"]/.test(e[i])||/^(true|false|\d+)$/.test(e[i])?n.push(e[i]):n.push(Template7Utils.getCompileVar(e[i],t,r));return n.join(", ")}},Template7Helpers={_partial(e,t){const r=this,n=Template7Class.partials[e];return!n||n&&!n.template?"":(n.compiled||(n.compiled=new Template7Class(n.template).compile()),Object.keys(t.hash).forEach((e=>{r[e]=t.hash[e]})),n.compiled(r,t.data,t.root))},escape(e){if(null==e)return"";if("string"!=typeof e)throw new Error('Template7: Passed context to "escape" helper should be a string');return Template7Utils.escape(e)},if(e,t){let r=e;return Template7Utils.isFunction(r)&&(r=r.call(this)),r?t.fn(this,t.data):t.inverse(this,t.data)},unless(e,t){let r=e;return Template7Utils.isFunction(r)&&(r=r.call(this)),r?t.inverse(this,t.data):t.fn(this,t.data)},each(e,t){let r=e,n="",i=0;if(Template7Utils.isFunction(r)&&(r=r.call(this)),Array.isArray(r)){for(t.hash.reverse&&(r=r.reverse()),i=0;i<r.length;i+=1)n+=t.fn(r[i],{first:0===i,last:i===r.length-1,index:i});t.hash.reverse&&(r=r.reverse())}else for(const e in r)i+=1,n+=t.fn(r[e],{key:e});return i>0?n:t.inverse(this)},with(e,t){let r=e;return Template7Utils.isFunction(r)&&(r=e.call(this)),t.fn(r)},join(e,t){let r=e;return Template7Utils.isFunction(r)&&(r=r.call(this)),r.join(t.hash.delimiter||t.hash.delimeter)},js(expression,options){const data=options.data;let func,execute=expression;return"index first last key".split(" ").forEach((e=>{if(void 0!==data[e]){const t=new RegExp(`this.@${e}`,"g"),r=new RegExp(`@${e}`,"g");execute=execute.replace(t,JSON.stringify(data[e])).replace(r,JSON.stringify(data[e]))}})),options.root&&execute.indexOf("@root")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),execute.indexOf("@global")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),execute.indexOf("../")>=0&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=execute.indexOf("return")>=0?`(function(){${execute}})`:`(function(){return (${execute})})`,eval(func).call(this)},js_if(expression,options){const data=options.data;let func,execute=expression;"index first last key".split(" ").forEach((e=>{if(void 0!==data[e]){const t=new RegExp(`this.@${e}`,"g"),r=new RegExp(`@${e}`,"g");execute=execute.replace(t,JSON.stringify(data[e])).replace(r,JSON.stringify(data[e]))}})),options.root&&execute.indexOf("@root")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),execute.indexOf("@global")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),execute.indexOf("../")>=0&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=execute.indexOf("return")>=0?`(function(){${execute}})`:`(function(){return (${execute})})`;const condition=eval(func).call(this);return condition?options.fn(this,options.data):options.inverse(this,options.data)}};Template7Helpers.js_compare=Template7Helpers.js_if;const Template7Options={},Template7Partials={};class Template7Class{constructor(e){this.template=e}compile(template=this.template,depth=1){const t=this;if(t.compiled)return t.compiled;if("string"!=typeof template)throw new Error("Template7: Template must be a string");const{stringToBlocks,getCompileVar,getCompiledArguments}=Template7Utils,blocks=stringToBlocks(template),ctx=`ctx_${depth}`,data=`data_${depth}`;if(0===blocks.length)return function(){return""};function getCompileFn(e,r){return e.content?t.compile(e.content,r):function(){return""}}function getCompileInverse(e,r){return e.inverseContent?t.compile(e.inverseContent,r):function(){return""}}let resultString="",i;for(resultString+=1===depth?`(function (${ctx}, ${data}, root) {\n`:`(function (${ctx}, ${data}) {\n`,1===depth&&(resultString+="function isArray(arr){return Array.isArray(arr);}\n",resultString+="function isFunction(func){return (typeof func === 'function');}\n",resultString+='function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n',resultString+="root = root || ctx_1 || {};\n"),resultString+="var r = '';\n",i=0;i<blocks.length;i+=1){const e=blocks[i];if("plain"===e.type){resultString+=`r +='${e.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")}';`;continue}let t,r;if("variable"===e.type&&(t=getCompileVar(e.contextName,ctx,data),resultString+=`r += c(${t}, ${ctx});`),"helper"===e.type){let n,i;if("ctx_1"!==ctx){const e=ctx.split("_")[1];let t="ctx_"+(e-1);for(let r=e-2;r>=1;r-=1)t+=`, ctx_${r}`;n=`[${t}]`}else n=`[${ctx}]`;if(0===e.helperName.indexOf("[")&&(e.helperName=getCompileVar(e.helperName.replace(/[[\]]/g,""),ctx,data),i=!0),i||e.helperName in Template7Helpers)r=getCompiledArguments(e.contextName,ctx,data),resultString+=`r += (Template7Helpers${i?`[${e.helperName}]`:`.${e.helperName}`}).call(${ctx}, ${r&&`${r}, `}{hash:${JSON.stringify(e.hash)}, data: ${data} || {}, fn: ${getCompileFn(e,depth+1)}, inverse: ${getCompileInverse(e,depth+1)}, root: root, parents: ${n}});`;else{if(e.contextName.length>0)throw new Error(`Template7: Missing helper: "${e.helperName}"`);t=getCompileVar(e.helperName,ctx,data),resultString+=`if (${t}) {`,resultString+=`if (isArray(${t})) {`,resultString+=`r += (Template7Helpers.each).call(${ctx}, ${t}, {hash:${JSON.stringify(e.hash)}, data: ${data} || {}, fn: ${getCompileFn(e,depth+1)}, inverse: ${getCompileInverse(e,depth+1)}, root: root, parents: ${n}});`,resultString+="}else {",resultString+=`r += (Template7Helpers.with).call(${ctx}, ${t}, {hash:${JSON.stringify(e.hash)}, data: ${data} || {}, fn: ${getCompileFn(e,depth+1)}, inverse: ${getCompileInverse(e,depth+1)}, root: root, parents: ${n}});`,resultString+="}}"}}}return resultString+="\nreturn r;})",1===depth?(t.compiled=eval(resultString),t.compiled):resultString}static get options(){return Template7Options}static get partials(){return Template7Partials}static get helpers(){return Template7Helpers}}function Template7(...e){const[t,r]=e;if(2===e.length){let e=new Template7Class(t);const n=e.compile()(r);return e=null,n}return new Template7Class(t)}Template7.registerHelper=function(e,t){Template7Class.helpers[e]=t},Template7.unregisterHelper=function(e){Template7Class.helpers[e]=void 0,delete Template7Class.helpers[e]},Template7.registerPartial=function(e,t){Template7Class.partials[e]={template:t}},Template7.unregisterPartial=function(e){Template7Class.partials[e]&&(Template7Class.partials[e]=void 0,delete Template7Class.partials[e])},Template7.compile=function(e,t){return new Template7Class(e,t).compile()},Template7.options=Template7Class.options,Template7.helpers=Template7Class.helpers,Template7.partials=Template7Class.partials;const __WEBPACK_DEFAULT_EXPORT__=Template7}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{const e="reaktions-id",t="undefined"!=typeof localStorage;let r=t?localStorage.getItem(e):null;const n=function(){return r},i=function(n){r=n,t&&localStorage.setItem(e,n)};let a=!1;const s=document.getElementById("reaktions").dataset.api||"https://reaktions.rapatao.com";async function o(e,t,r={}){!function(){if(a)throw new Error("Operation in progress, please wait.")}(),a=!0;const l=await fetch(`${s}/${t}?`+new URLSearchParams(r),{method:e,headers:{"Content-Type":"application/json","reaktions-id":n()}}).then((async e=>({user_id:e.headers.get("reaktions-id"),data:await e.json()}))).catch((r=>(console.error(`Failed to ${e} ${t}`,r),{})));return l.user_id&&await async function(e){if(e&&(!n()||n()!==e))try{await o("post","users",{source:n(),target:e})}catch(e){console.log("Failed to migrate user data",e)}finally{i(e)}}(l.user_id),a=!1,l.data||[]}var l=__webpack_require__(676);const p=(u=window.location.host,d=window.location.pathname,{get:()=>o("get","reactions",{host:u,path:d}),add:e=>o("post","reactions",{host:u,path:d,type:e}),del:e=>o("delete","reactions",{host:u,path:d,type:e})}),c=function(e,t){const r=l.Z.compile('<style rel="stylesheet">#reaktions,.reaktions,footer.reaktions-footer,header.reaktions-title,main.reaktions-main{background:#fbfbff;color:#414754}#reaktions,main.reaktions-main{display:flex;align-items:center;justify-content:center}.reaktions{position:relative;text-align:center;width:90%;max-width:600px}.reaktions-loader{display:none}.reaktions-loader.reaktions-active{display:block}.reaktions-loader.reaktions-spin{position:absolute;right:5px;bottom:5px;border:10px solid #779cab;border-bottom-color:#fbfbff;border-top-color:#fbfbff;border-radius:50%;width:10px;height:10px;animation:reaktions-spin .5s linear infinite}.reaktions-loader.reaktions-blocker{content:" ";position:absolute;top:0;left:0;right:0;bottom:0;background-color:#f1f3f9;opacity:80%;border:inherit;border-radius:inherit}@keyframes reaktions-spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}footer.reaktions-footer,header.reaktions-title{padding:5px;margin:0}footer.reaktions-footer{text-align:right}main.reaktions-main{display:flex;flex-flow:row;align-items:center;justify-content:center;gap:10px;padding:5px;flex-wrap:wrap}.reaktions-button{display:grid;border:1px solid #0b4f6c;border-radius:5px;cursor:pointer}.reaktions-icon,.reaktions-value{font-size:48px;border:1px solid #779cab;padding:5px;display:flex;align-items:center;justify-content:center}.reaktions-icon{grid-area:1;border-radius:4px 4px 0 0;width:60px;height:60px}.reaktions-value{grid-area:2;font-size:14px;background:#779cab;color:#fbfbff;border-radius:0 0 4px 4px;overflow:hidden}.reaktions-disabled{cursor:not-allowed!important}.reaktions-selected{background:#b9cfd4}</style> <div class="reaktions"> <div class="reaktions-loader"> <div class="reaktions-loader reaktions-blocker"></div> <div class="reaktions-loader reaktions-spin"></div> </div> <section class="reaktions-section"> <header class="reaktions-title"> <strong>{{ i18n.title }}</strong> </header> <main class="reaktions-main"> {{#each votes}} <div class="reaktions-button {{#if this.selected}} reaktions-selected{{/if}}{{#if this.disabled}} reaktions-disabled{{/if}}" data-type="{{this.type}}" data-value="{{this.value}}"> <span class="reaktions-icon">{{this.label}}</span> <span class="reaktions-value">{{this.value}}</span> </div> {{/each}} </main> <footer class="reaktions-footer"> <a href="https://reaktions.rapatao.com/"> <img src="https://reaktions.rapatao.com/reaktions-logo.png" alt="{{ i18n.producer }}" width="70px" height="16px"> </a> </footer> </section> </div> '),n=document.getElementById("reaktions"),i=function(e){const t={en:{producer:"by reaktions",title:"What do you think of this content?"},pt:{producer:"por reaktions",title:"O que voc&#234; achou deste conte&#250;do?"},es:{producer:"por reaktions",title:"&#191;Qu&#233; te pareci&#243; este contenido?"}};return[e.dataset.lang,document.documentElement.lang].map((e=>e?.split("-")[0]?.split("_")[0]?.toLowerCase())).map((e=>t[e])).find((e=>e))||t.en}(n),a=(e,t,r)=>{e.onclick=async()=>await r(t)},s=(e,t)=>e.map((e=>({...e,disabled:e.type!==t&&null!=t})));return{render:o=>{if(0===o.length)return void console.log("empty reactions, hiding selector");const l=(e=>{const t=e.find((e=>!0===e.selected));return t?t.type:null})(o);n.innerHTML=r({votes:s(o,l),selected:l,i18n:i}),Array.from(n.getElementsByClassName("reaktions-button")).forEach((r=>{null===l&&a(r,r.dataset.type,e),l===r.dataset.type&&a(r,r.dataset.type,t)}))},lock:()=>{const e=document.getElementsByClassName("reaktions-loader");Array.from(e).forEach((e=>{e.classList.add("reaktions-active")}))},root:n}}((function(e){f((()=>p.add(e))).catch((e=>console.error(e)))}),(function(e){f((()=>p.del(e))).catch((e=>console.error(e)))}));var u,d;async function f(e){c.lock();const t=await e();c.render(t)}!async function(){await async function(){if(null!==c.root){c.lock();const e=await p.get();c.render(e)}}()}()})()})();