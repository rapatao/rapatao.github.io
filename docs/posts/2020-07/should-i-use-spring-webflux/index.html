<!doctype html><html lang=en><head><meta charset=utf-8><title>Reactive programming with Spring WebFlux, should I use it? - rapatao.com</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=https://www.rapatao.com/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://www.rapatao.com/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.rapatao.com/favicon/favicon-16x16.png><link rel=manifest href=https://www.rapatao.com/favicon/site.webmanifest><link rel=mask-icon href=https://www.rapatao.com/favicon/safari-pinned-tab.svg color=#ffffff><link rel="shortcut icon" href=https://www.rapatao.com/favicon/favicon.ico><meta name=msapplication-config content="/favicon/browserconfig.xml"><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.111.2"><meta itemprop=name content="Reactive programming with Spring WebFlux, should I use it?"><meta itemprop=description content="Should I use it?
No, but maybe so! I could stop the article here, but that wouldn&rsquo;t add anything and you would never understand why I start the text with a no, but it may be yes. The truth is, if you hope to use WebFlux and solve all your problems, I&rsquo;m sorry to tell you that your problems may be just beginning.
Recently the subject Advantages and Disadvantages about WebFlux came up in my work and because I have little experience using WebFlux, I decided to seek more information on the subject and I intend to describe here my opinion about the use of WebFlux and, consequently, a little about reactive programming."><meta itemprop=datePublished content="2020-07-26T19:33:23-03:00"><meta itemprop=dateModified content="2020-07-26T19:33:23-03:00"><meta itemprop=wordCount content="777"><meta itemprop=image content><meta itemprop=keywords content="spring,spring mvc,spring webflux,reactive,"><meta property="og:title" content="Reactive programming with Spring WebFlux, should I use it?"><meta property="og:description" content="Should I use it?
No, but maybe so! I could stop the article here, but that wouldn&rsquo;t add anything and you would never understand why I start the text with a no, but it may be yes. The truth is, if you hope to use WebFlux and solve all your problems, I&rsquo;m sorry to tell you that your problems may be just beginning.
Recently the subject Advantages and Disadvantages about WebFlux came up in my work and because I have little experience using WebFlux, I decided to seek more information on the subject and I intend to describe here my opinion about the use of WebFlux and, consequently, a little about reactive programming."><meta property="og:type" content="article"><meta property="og:url" content="https://www.rapatao.com/posts/2020-07/should-i-use-spring-webflux/"><meta property="og:image" content="https://www.rapatao.com/images/posts/abandoned-antique-architecture-building-277782.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-07-26T19:33:23-03:00"><meta property="article:modified_time" content="2020-07-26T19:33:23-03:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.rapatao.com/images/posts/abandoned-antique-architecture-building-277782.jpg"><meta name=twitter:title content="Reactive programming with Spring WebFlux, should I use it?"><meta name=twitter:description content="Should I use it?
No, but maybe so! I could stop the article here, but that wouldn&rsquo;t add anything and you would never understand why I start the text with a no, but it may be yes. The truth is, if you hope to use WebFlux and solve all your problems, I&rsquo;m sorry to tell you that your problems may be just beginning.
Recently the subject Advantages and Disadvantages about WebFlux came up in my work and because I have little experience using WebFlux, I decided to seek more information on the subject and I intend to describe here my opinion about the use of WebFlux and, consequently, a little about reactive programming."><meta name=twitter:site content="@rapatao"><link rel=stylesheet href=https://www.rapatao.com/css/bundle.min.4ff4389274ff79a3a51d36b6c29b74b72da08fa3b64251dd1521a7691d0e6223.css integrity="sha256-T/Q4knT/eaOlHTa2wpt0ty2gj6O2QlHdFSGnaR0OYiM="><link rel=stylesheet href=https://www.rapatao.com/css/add-on.css><link rel=alternate hreflang=en href=https://www.rapatao.com/posts/2020-07/should-i-use-spring-webflux/><link rel=alternate hreflang=pt href=https://www.rapatao.com/pt/posts/2020-07/should-i-use-spring-webflux/></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=https://www.rapatao.com/ class=nav>rapatao.com</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=https://www.rapatao.com/pt/posts/ class="nav link"><i class='far fa-newspaper'></i> Blog</a>
<a href=https://www.rapatao.com/resume/ class="nav link"><i class='far fa-file-alt'></i> Resume</a>
<a href=https://www.rapatao.com/json/ class="nav link"><i class='far fa-file-code'></i> JSON Formatter & Minifier</a>
<a href=#share-menu class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
<a href=#search-input class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#share-menu class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
<a href=#lang-menu class="nav lang-toggle" lang=en>en</a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu><menu id=lang-menu class="flyout-menu menu"><a href=# lang=en class="nav link active">English (en)</a>
<a href=https://www.rapatao.com/pt/posts/2020-07/should-i-use-spring-webflux/ lang=pt class="nav link">Português (pt)</a></menu>
<menu id=share-menu class="flyout-menu menu"><h1>Share Post</h1><a href="//twitter.com/share?text=Reactive%20programming%20with%20Spring%20WebFlux%2c%20should%20I%20use%20it%3f&amp;url=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="//www.reddit.com/submit?url=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&amp;title=Reactive%20programming%20with%20Spring%20WebFlux%2c%20should%20I%20use%20it%3f" target=_blank rel=noopener class="nav share-btn reddit"><p>Reddit</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&amp;title=Reactive%20programming%20with%20Spring%20WebFlux%2c%20should%20I%20use%20it%3f" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="mailto:?subject=Check%20out%20this%20post%20by %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&amp;body=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></menu></header><div id=wrapper><section id=site-intro><a href=https://www.rapatao.com/><img src=https://www.rapatao.com/images/avatar-pixel.gif class=square width=100 alt="Luiz H. Rapatão"></a><header><h1>Luiz H. Rapatão</h1></header><main><p>Senior Software Engineer</p></main><footer><ul class=socnet-icons><li><a href=//github.com/rapatao target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//linkedin.com/in/rapatao target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//instagram.com/luizrapatao target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/rapatao target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=mailto:rapatao@rapatao.com target=_blank title=Email class="far fa-envelope"></a></li></ul></footer></section><main id=site-main><article class=post><header><div class=title><h2><a href=https://www.rapatao.com/posts/2020-07/should-i-use-spring-webflux/>Reactive programming with Spring WebFlux, should I use it?</a></h2></div><div class=meta><time datetime="2020-07-26 19:33:23 -0300 -0300">July 26, 2020</time><p>4-Minute Read</p></div></header><div id=socnet-share><a href="//twitter.com/share?text=Reactive%20programming%20with%20Spring%20WebFlux%2c%20should%20I%20use%20it%3f&amp;url=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="//www.reddit.com/submit?url=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&amp;title=Reactive%20programming%20with%20Spring%20WebFlux%2c%20should%20I%20use%20it%3f" target=_blank rel=noopener class="nav share-btn reddit"><p>Reddit</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&amp;title=Reactive%20programming%20with%20Spring%20WebFlux%2c%20should%20I%20use%20it%3f" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="mailto:?subject=Check%20out%20this%20post%20by %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&amp;body=https%3a%2f%2fwww.rapatao.com%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></div><div class=content><a href=https://www.rapatao.com/posts/2020-07/should-i-use-spring-webflux/ class=image style="--bg-image:url('https://www.rapatao.com/images/posts/abandoned-antique-architecture-building-277782.jpg')"><img class=stretchV src=https://www.rapatao.com/images/posts/abandoned-antique-architecture-building-277782.jpg alt="Webflux ou MVC?"></a><p><strong>Should I use it?</strong></p><pre><code>No, but maybe so!
</code></pre><p>I could stop the article here, but that wouldn&rsquo;t add anything and you would never understand why I start the text with a <strong>no, but it may be yes</strong>. The truth is, if you hope to use <em>WebFlux</em> and solve all your problems, I&rsquo;m sorry to tell you that your problems may be just beginning.</p><p>Recently the subject <em>Advantages and Disadvantages about WebFlux</em> came up in my work and because I have little experience using <em>WebFlux</em>, I decided to seek more information on the subject and I intend to describe here my opinion about the use of <em>WebFlux</em> and, consequently, a little about reactive programming.</p><p>Reactive programming has been on the rise for some years and there is a lot of talk about performance gains, resource optimization, but the discussion on the subject is still very shallow and sometimes with an air of pure fad.</p><p>When researching the performance of reactive applications, we end up seeing wonderful graphics, as if all problems were solved with a simple paradigm shift, but often we don&rsquo;t notice that the comparisons turn out to be a little strange when compared to &ldquo;real&rdquo; applications. .</p><p>I am referring to the fact that these tests consider a complete migration of the application architecture, that is, from the code to the database, and this is usually not an option, as we cannot always replace our database, for example, from <em>MySQL</em> to <em>MongoDB</em> or <em>Cassandra</em>. This, for me, makes the results of these comparisons to be seen with a certain weight.</p><p>However, before making any changes to the code, we must always answer some questions that I consider fundamental for the success of tasks at this level.</p><ul><li>Is the team aware of the technology that will be used?<ul><li>If not, will the team have time to learn the new technology?</li></ul></li><li>Does the team understand the advantages, disadvantages and risks of this technology?</li><li>Is the new technology compatible with the other tools used? Eg: Database.</li></ul><p>It is always important to answer these questions before starting a project with the adoption of a different technology than usual. This helps to prevent unexpected risks and possible delays in deliveries.</p><p>We developers often have the desire to use something new/different in our day-to-day tasks, but it is always important to consider what this will add, with difficulty, learning curve and inherent risks to this adhesion.</p><p><em><em>Back to the main subject, <em>Spring WebFlux</em></em>&mldr;</em>*</p><p><img src=https://www.rapatao.com/images/posts/green-typewriter-on-brown-wooden-table-4052198.jpg#center alt="Back to topic"></p><p>Among everything I read and had the opportunity to see in practice, I found the efficiency of applications built with <em>WebFlux</em> very interesting. It was the famous “a lot with a little”, but what caught my attention was the complexity of building unit/integrated tests as well as the difficulty in performing <em>debug</em>, since the call flow is no longer, so to speak, sequential.</p><p>Among the various articles I read, there were several reports of people who categorically stated that <em>WebFlux</em> was better, as it was possible to process requests in parallel, while in the model used by <em>Spring MVC</em>, only one request was performed at a time , which is false, as parallelism is created with <em>threads</em> and controlled by application servers, such as <em>Tomcat</em> and <em>Jetty</em>.</p><p><strong>Anyway, should I use <em>WebFlux</em> in my project?</strong></p><p><img src=https://www.rapatao.com/images/posts/banking-business-checklist-commerce-416322.jpg#center alt="Back to topic"></p><p>Well, that depends&mldr;</p><p>The fact that the application is built using a reactive paradigm (<em>WebFlux</em>) does not make it perform better than the imperative model (<em>Spring MVC</em>). Often the performance problem can be simply in the way things were implemented or even by consuming services that block a transaction for too long. There are other scenarios that could improve the performance of an application without first considering a technology migration, such as, for example, parameterization of the <em>JVM</em>.</p><p>In short, if today an application works well using <em>Spring MVC</em>, there &ldquo;are&rdquo; no real reasons to migrate to <em>WebFlux</em>, besides the fact that, depending on the problem, there may be another way to solve it, without first consider a technology migration.</p><p>However, if the application is having problems related to the amount of <em>threads</em>, or uses <em>streaming</em> of data, or even prioritizes an efficient use of <em>hardware</em> resources, perhaps the use of <em>WebFlux</em> is a way out.</p><p>Anyway, there is no magic formula that will tell whether or not we should use <em>WebFlux</em>, or <em>MVC</em> in our projects. It will always be necessary to analyze the scenario we have and compare it with the options we have available, but it is always important to understand the advantages and disadvantages of these and other technologies.</p><p>A migration may not be necessary now, but in the future it may be and it&rsquo;s always good to be prepared.</p></div><footer><div class=stats><ul class=tags><li><a class=article-terms-link href=https://www.rapatao.com/tags/spring/>spring</a></li><li><a class=article-terms-link href=https://www.rapatao.com/tags/spring-mvc/>spring mvc</a></li><li><a class=article-terms-link href=https://www.rapatao.com/tags/spring-webflux/>spring webflux</a></li><li><a class=article-terms-link href=https://www.rapatao.com/tags/reactive/>reactive</a></li></ul></div></footer></article><article class=post><div id=reaktions></div><script lang=application/javascript defer src=https://reaktions.rapatao.com/reaktions.js></script><noscript>Please enable JavaScript to react with this post</noscript></article><div class=pagination><a href=https://www.rapatao.com/posts/2020-08/your-dotfiles-under-control/ class="button left"><span>Your dotfiles under control</span></a>
<a href=https://www.rapatao.com/posts/2020-05/verify-varargs-using-mockito/ class="button right"><span>Verify vararg methods using Mockito</span></a></div></main><section id=site-sidebar><section id=recent-posts><header><h1>Recent Posts</h1></header><article class=mini-post><a href=https://www.rapatao.com/posts/2022-10/what-is-a-reverse-proxy/ class=image style="--bg-image:url('https://www.rapatao.com/images/posts/gate-g2919ae08c_640.jpg')"><img src=https://www.rapatao.com/images/posts/gate-g2919ae08c_640.jpg alt="What is a Reverse Proxy?"></a><header><h2><a href=https://www.rapatao.com/posts/2022-10/what-is-a-reverse-proxy/>What is a Reverse Proxy?</a></h2><time class=published datetime="2022-10-22 12:00:00 -0300 -0300">October 22, 2022</time></header></article><article class=mini-post><a href=https://www.rapatao.com/posts/2022-08/what-are-flaky-tests-and-why-fix-them/ class=image style="--bg-image:url('https://www.rapatao.com/images/posts/flaky-pipeline.png')"><img src=https://www.rapatao.com/images/posts/flaky-pipeline.png alt="What are Flaky Tests and why fix them!"></a><header><h2><a href=https://www.rapatao.com/posts/2022-08/what-are-flaky-tests-and-why-fix-them/>What are Flaky Tests and why fix them!</a></h2><time class=published datetime="2022-08-28 12:00:00 -0300 -0300">August 28, 2022</time></header></article><article class=mini-post><a href=https://www.rapatao.com/posts/2022-07/gnupg-how-to-backup-and-restore-your-keys/ class=image style="--bg-image:url('https://www.rapatao.com/images/posts/pexels-lucas-seebacher-5599449.jpeg')"><img src=https://www.rapatao.com/images/posts/pexels-lucas-seebacher-5599449.jpeg alt="GnuPG: how to backup and restore your keys?"></a><header><h2><a href=https://www.rapatao.com/posts/2022-07/gnupg-how-to-backup-and-restore-your-keys/>GnuPG: how to backup and restore your keys?</a></h2><time class=published datetime="2022-07-31 12:00:00 -0300 -0300">July 31, 2022</time></header></article><footer><a href=https://www.rapatao.com/posts/ class=button>See More</a></footer></section></section><footer id=site-footer><ul class=socnet-icons><li><a href=//github.com/rapatao target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//linkedin.com/in/rapatao target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//instagram.com/luizrapatao target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/rapatao target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=mailto:rapatao@rapatao.com target=_blank title=Email class="far fa-envelope"></a></li></ul><p class=copyright>© 2022 rapatao.com<br>Theme: <a href=https://github.com/pacollins/hugo-future-imperfect-slim target=_blank rel=noopener>Hugo Future Imperfect Slim</a><br>A <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP port</a> | Powered by <a href=https://gohugo.io/ title=0.111.2 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a>
<script src=https://www.rapatao.com/js/bundle.min.294ee8926c7846b7befa87e1420ce7621077417d4ef195df6c7dff2ad2b2915c.js integrity="sha256-KU7okmx4Rre++ofhQgznYhB3QX1O8ZXfbH3/KtKykVw="></script>
<script src=https://www.rapatao.com/js/add-on.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LDJ57WEQPH"></script>
<script>var dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-LDJ57WEQPH",{anonymize_ip:!0})}</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "8575ea838221496eb4ac5f867d0d5d8f"}'></script></div></body></html data-check="rapatao.com">