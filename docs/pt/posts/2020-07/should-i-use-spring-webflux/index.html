<!doctype html><html lang=pt><head><meta charset=utf-8><title>Programação reativa com Spring WebFlux, devo utilizar? - rapatao.com</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=apple-touch-icon sizes=180x180 href=https://www.rapatao.com/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://www.rapatao.com/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.rapatao.com/favicon/favicon-16x16.png><link rel=manifest href=https://www.rapatao.com/favicon/site.webmanifest><link rel=mask-icon href=https://www.rapatao.com/favicon/safari-pinned-tab.svg color=#ffffff><link rel="shortcut icon" href=https://www.rapatao.com/favicon/favicon.ico><meta name=msapplication-config content="/favicon/browserconfig.xml"><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><meta name=generator content="Hugo 0.98.0"><meta itemprop=name content="Programação reativa com Spring WebFlux, devo utilizar?"><meta itemprop=description content="Devo utilizar?
Não, mas pode ser que sim!  Eu poderia parar o artigo aqui, mas isso não iria agregar em nada e você jamais iria entender o motivo de eu começar o texto com um não, mas pode ser que sim. A verdade é que se você espera utilizar WebFlux e resolver todos os seus problemas, sinto lhe dizer que seus problemas podem estar só começando.
Recentemente o assunto Vantagens e Desvantagens sobre o WebFlux surgiu em meu trabalho e por ter pouca experiência utilizando WebFlux, resolvi buscar mais informações sobre o assunto e pretendo descrever aqui minha opinião sobre a utilização de WebFlux e por consequência, um pouco sobre programação reativa."><meta itemprop=datePublished content="2020-07-26T19:33:23-03:00"><meta itemprop=dateModified content="2020-07-26T19:33:23-03:00"><meta itemprop=wordCount content="769"><meta itemprop=image content><meta itemprop=keywords content="spring,spring mvc,spring webflux,reactive,"><meta property="og:title" content="Programação reativa com Spring WebFlux, devo utilizar?"><meta property="og:description" content="Devo utilizar?
Não, mas pode ser que sim!  Eu poderia parar o artigo aqui, mas isso não iria agregar em nada e você jamais iria entender o motivo de eu começar o texto com um não, mas pode ser que sim. A verdade é que se você espera utilizar WebFlux e resolver todos os seus problemas, sinto lhe dizer que seus problemas podem estar só começando.
Recentemente o assunto Vantagens e Desvantagens sobre o WebFlux surgiu em meu trabalho e por ter pouca experiência utilizando WebFlux, resolvi buscar mais informações sobre o assunto e pretendo descrever aqui minha opinião sobre a utilização de WebFlux e por consequência, um pouco sobre programação reativa."><meta property="og:type" content="article"><meta property="og:url" content="https://www.rapatao.com/pt/posts/2020-07/should-i-use-spring-webflux/"><meta property="og:image" content="https://www.rapatao.com/img/posts/abandoned-antique-architecture-building-277782.jpg"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-07-26T19:33:23-03:00"><meta property="article:modified_time" content="2020-07-26T19:33:23-03:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.rapatao.com/img/posts/abandoned-antique-architecture-building-277782.jpg"><meta name=twitter:title content="Programação reativa com Spring WebFlux, devo utilizar?"><meta name=twitter:description content="Devo utilizar?
Não, mas pode ser que sim!  Eu poderia parar o artigo aqui, mas isso não iria agregar em nada e você jamais iria entender o motivo de eu começar o texto com um não, mas pode ser que sim. A verdade é que se você espera utilizar WebFlux e resolver todos os seus problemas, sinto lhe dizer que seus problemas podem estar só começando.
Recentemente o assunto Vantagens e Desvantagens sobre o WebFlux surgiu em meu trabalho e por ter pouca experiência utilizando WebFlux, resolvi buscar mais informações sobre o assunto e pretendo descrever aqui minha opinião sobre a utilização de WebFlux e por consequência, um pouco sobre programação reativa."><meta name=twitter:site content="@rapatao"><link rel=stylesheet href=https://www.rapatao.com/css/bundle.min.6ad9eb85bff384c75937a02036b01425a2ca63f19a96535b8ba5b181db62a4b3.css integrity="sha256-atnrhb/zhMdZN6AgNrAUJaLKY/GallNbi6WxgdtipLM="><link rel=stylesheet href=https://www.rapatao.com/css/add-on.css></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=https://www.rapatao.com/pt/ class=nav>rapatao.com</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=https://www.rapatao.com/pt/posts/ class="nav link"><i class="far fa-newspaper"></i> Blog</a>
<a href=https://www.rapatao.com/pt/resume/ class="nav link"><i class="far fa-file-alt"></i> Experiência</a>
<a href=#share-menu class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
<a href=#search-input class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#share-menu class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
<a href=#lang-menu class="nav lang-toggle" lang=pt>pt</a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu><menu id=lang-menu class="flyout-menu menu"><a href=# lang=pt class="nav link active">Português (pt)</a>
<a href=https://www.rapatao.com/pt/posts/2020-07/should-i-use-spring-webflux/ lang=en class="nav link">English (en)</a></menu>
<menu id=share-menu class="flyout-menu menu"><h1>Share Post</h1><a href="//twitter.com/share?text=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f&url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="//www.reddit.com/submit?url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&title=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f" target=_blank rel=noopener class="nav share-btn reddit"><p>Reddit</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&title=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&description=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f" target=_blank rel=noopener class="nav share-btn pinterest"><p>Pinterest</p></a><a href="mailto:?subject=Confira%20esta%20postagem%20por %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&body=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></menu></header><div id=wrapper><section id=site-intro><a href=https://www.rapatao.com/pt/><img src=https://www.rapatao.com/images/avatar.jpg class=circle width=100 alt="Luiz H. Rapatão"></a><header><h1>Luiz H. Rapatão</h1></header><main><p>Senior Software Engineer</p></main><footer><ul class=socnet-icons><li><a href=//github.com/rapatao target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//linkedin.com/in/rapatao target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//instagram.com/luizrapatao target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/rapatao target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=skype:rapatao?userinfo target=_blank rel=noopener title=Skype class="fab fa-skype"></a></li><li><a href=mailto:rapatao@rapatao.com target=_blank title=Email class="far fa-envelope"></a></li></ul></footer></section><main id=site-main><article class=post><header><div class=title><h2><a href=https://www.rapatao.com/pt/posts/2020-07/should-i-use-spring-webflux/>Programação reativa com Spring WebFlux, devo utilizar?</a></h2></div><div class=meta><time datetime="2020-07-26 19:33:23 -0300 -03">26 de July, 2020</time><p>4 Minutos De Leitura</p></div></header><div id=socnet-share><a href="//twitter.com/share?text=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f&url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="//www.reddit.com/submit?url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&title=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f" target=_blank rel=noopener class="nav share-btn reddit"><p>Reddit</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&title=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f&description=Programa%c3%a7%c3%a3o%20reativa%20com%20Spring%20WebFlux%2c%20devo%20utilizar%3f" target=_blank rel=noopener class="nav share-btn pinterest"><p>Pinterest</p></a><a href="mailto:?subject=Confira%20esta%20postagem%20por %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&body=https%3a%2f%2fwww.rapatao.com%2fpt%2fposts%2f2020-07%2fshould-i-use-spring-webflux%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></div><div class=content><a href=https://www.rapatao.com/pt/posts/2020-07/should-i-use-spring-webflux/ class=image style="--bg-image:url('https://www.rapatao.com/img/posts/abandoned-antique-architecture-building-277782.jpg')"><img class=stretchV src=https://www.rapatao.com/img/posts/abandoned-antique-architecture-building-277782.jpg alt="Webflux ou MVC?"></a><p><strong>Devo utilizar?</strong></p><pre><code>Não, mas pode ser que sim!
</code></pre><p>Eu poderia parar o artigo aqui, mas isso não iria agregar em nada e você jamais iria entender o motivo de eu começar o texto com um <strong>não, mas pode ser que sim</strong>. A verdade é que se você espera utilizar <em>WebFlux</em> e resolver todos os seus problemas, sinto lhe dizer que seus problemas podem estar só começando.</p><p>Recentemente o assunto <em>Vantagens e Desvantagens sobre o WebFlux</em> surgiu em meu trabalho e por ter pouca experiência utilizando <em>WebFlux</em>, resolvi buscar mais informações sobre o assunto e pretendo descrever aqui minha opinião sobre a utilização de <em>WebFlux</em> e por consequência, um pouco sobre programação reativa.</p><p>Tem alguns anos que programação reativa está em alta e fala-se muito sobre ganhos de performance, otimização de recursos, mas a discussão sobre o assunto ainda está muito rasa e por vezes com ar de puro modismo.</p><p>Quando se pesquisa sobre a performance de aplicações reativas, acabamos vendo gráficos maravilhosos, como se todos os problemas fossem resolvidos com uma simples migração de paradigma, mas muitas vezes não notamos que as comparações acabam sendo um tanto quanto estranhas quando comparadas com aplicações &ldquo;reais&rdquo;.</p><p>Me refiro ao fato destes testes considerarem uma migração completa da arquitetura da aplicação, ou seja, do código ao banco de dados, e isso normalmente não é uma opção, pois nem sempre podemos substituir nosso banco de dados, por exemplo, do <em>MySQL</em> para <em>MongoDB</em> ou <em>Cassandra</em>. Isso, para mim, faz com que os resultados destes comparativos sejam vistos com uma certa ponderação.</p><p>Porém, antes de realizarmos qualquer mudança no código, devemos sempre responder alguns questionamentos que considero fundamentais para o sucesso de tarefas deste nível.</p><ul><li>O time tem conhecimento sobre a tecnologia que será utilizada?<ul><li>Caso negativo, o time terá tempo hábil para aprender a nova tecnologia?</li></ul></li><li>O time entende as vantagens, desvantagens e riscos desta tecnologia?</li><li>A nova tecnologia é compatível com as outras ferramentas utilizadas? Ex.: Banco de dados.</li></ul><p>É sempre importante responder estas questões antes de iniciar um projeto com adoção de uma tecnologia diferente da habitual. Isso ajuda a prevenir riscos inesperados e possíveis atrasos nas entregas.</p><p>Nós desenvolvedores temos muitas vezes o desejo de utilizar algo novo/diferente em nossas tarefas do dia a dia, porém é sempre importante ponderarmos o que isso irá agregar, com dificuldade, curva de aprendizado e riscos inerentes a essa adesão.</p><p><strong>Voltando ao assunto principal, <em>Spring WebFlux</em>&mldr;</strong></p><p><img src=https://www.rapatao.com/img/posts/green-typewriter-on-brown-wooden-table-4052198.jpg#center alt="Voltando ao tópico"></p><p>Dentre tudo que li e tive oportunidade de ver na prática, achei bem interessante a eficiência das aplicações construídas com <em>WebFlux</em>. Foi o famoso “muito com pouco”, porém me chamou atenção a complexidade em se construir testes unitários/integrados bem como a dificuldade na realização de <em>debug</em>, visto que o fluxo de chamadas não é mais, por assim dizer, sequencial.</p><p>Entre os diversos artigos que li, havia diversos relatos de pessoas que afirmavam categoricamente que o <em>WebFlux</em> era melhor pois era possível realizar processamento das requisições em paralelo, enquanto no modelo utilizado pelo <em>Spring MVC</em>, somente uma requisição era realizada por vez, o que não é verdadeiro, visto que o paralelismo é criado com <em>threads</em> e controlado pelos servidores de aplicação, como por exemplo, <em>Tomcat</em> e <em>Jetty</em>.</p><p><strong>Enfim, devo utilizar <em>WebFlux</em> em meu projeto?</strong></p><p><img src=https://www.rapatao.com/img/posts/banking-business-checklist-commerce-416322.jpg#center alt="Voltando ao tópico"></p><p>Bom, isso depende…</p><p>O fato da aplicação ser construída utilizando um paradigma reativo (<em>WebFlux</em>) não faz com que ela tenha uma performance superior ao modelo imperativo (<em>Spring MVC</em>). Muitas vezes o problema na performance pode estar simplesmente na maneira como as coisas foram implementadas ou até mesmo por consumo de serviços que bloqueiam por tempo demais uma transação. Existem outros cenários que poderiam melhorar a performance de uma aplicação sem antes considerar uma migração de tecnologia, como por exemplo, parametrização da <em>JVM</em>.</p><p>Resumidamente, se hoje uma aplicação funcionar bem utilizando <em>Spring MVC</em>, não &ldquo;existem&rdquo; motivos reais para que seja realizado uma migração para <em>WebFlux</em>, além do fato que, dependendo do problema, pode existir outra formas de resolve-lo, sem antes considerar uma migração de tecnologia.</p><p>Porém, se a aplicação estiver com problemas relacionado a quantidade de <em>threads</em>, ou fizer uso de <em>streaming</em> de dados ou mesmo ter como prioridade um uso eficiente de recursos de <em>hardware</em>, talvez a utilização de <em>WebFlux</em> seja uma saída.</p><p>Enfim, não existe uma formula mágica que irá dizer se devemos ou não utilizar <em>WebFlux</em> ou <em>MVC</em> em nossos projetos. Sempre será necessário analisarmos o cenário que temos e comparar com as opções que temos disponíveis, mas é sempre importante entendermos as vantagens e desvantagens destas e outras tecnologias.</p><p>Pode ser que que uma migração não seja necessária agora, mas no futuro ela pode vir a ser e é sempre bom estarmos preparados.</p></div><footer><div class=stats><ul class=tags><li><a class=article-terms-link href=https://www.rapatao.com/pt/tags/spring/>spring</a></li><li><a class=article-terms-link href=https://www.rapatao.com/pt/tags/spring-mvc/>spring mvc</a></li><li><a class=article-terms-link href=https://www.rapatao.com/pt/tags/spring-webflux/>spring webflux</a></li><li><a class=article-terms-link href=https://www.rapatao.com/pt/tags/reactive/>reactive</a></li></ul></div></footer></article><article class=post><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//rapatao-com.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></article><div class=pagination><a href=https://www.rapatao.com/pt/posts/2020-08/your-dotfiles-under-control/ class="button left"><span>Seus dotfiles sob controle</span></a>
<a href=https://www.rapatao.com/pt/posts/2020-05/what-is-it-like-working-in-the-it-area/ class="button right"><span>Como é trabalhar com TI?</span></a></div></main><section id=site-sidebar><section id=recent-posts><header><h1>Posts Recentes</h1></header><article class=mini-post><a href=https://www.rapatao.com/pt/posts/2022-04/o-que-e-uma-cdn-content-delivery-network/ class=image style="--bg-image:url('https://www.rapatao.com/img/posts/pexels-pixabay-163064.jpeg')"><img src=https://www.rapatao.com/img/posts/pexels-pixabay-163064.jpeg alt="O que é uma CDN (Content Delivery Network)?"></a><header><h2><a href=https://www.rapatao.com/pt/posts/2022-04/o-que-e-uma-cdn-content-delivery-network/>O que é uma CDN (Content Delivery Network)?</a></h2><time class=published datetime="2022-04-21 19:00:00 -0300 -03">21 de April, 2022</time></header></article><article class=mini-post><a href=https://www.rapatao.com/pt/posts/2022-02/load-balancing-o-que-e-um-balanceador-de-carga/ class=image style="--bg-image:url('https://www.rapatao.com/img/posts/pexels-brett-sayles-7146867.jpg')"><img src=https://www.rapatao.com/img/posts/pexels-brett-sayles-7146867.jpg alt="Load Balancing: O que é um balanceador de carga?"></a><header><h2><a href=https://www.rapatao.com/pt/posts/2022-02/load-balancing-o-que-e-um-balanceador-de-carga/>Load Balancing: O que é um balanceador de carga?</a></h2><time class=published datetime="2022-02-05 20:00:00 -0300 -03">5 de February, 2022</time></header></article><article class=mini-post><a href=https://www.rapatao.com/pt/posts/2022-01/construindo-testes-com-kotlin-junit-mockk/ class=image style="--bg-image:url('https://www.rapatao.com/img/posts/pexels-pixabay-163016.jpg')"><img src=https://www.rapatao.com/img/posts/pexels-pixabay-163016.jpg alt="Construindo testes com Kotlin, JUnit e MockK"></a><header><h2><a href=https://www.rapatao.com/pt/posts/2022-01/construindo-testes-com-kotlin-junit-mockk/>Construindo testes com Kotlin, JUnit e MockK</a></h2><time class=published datetime="2022-01-19 22:00:00 -0300 -03">19 de January, 2022</time></header></article><footer><a href=https://www.rapatao.com/pt/posts/ class=button>Veja Mais</a></footer></section></section><footer id=site-footer><ul class=socnet-icons><li><a href=//github.com/rapatao target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//linkedin.com/in/rapatao target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//instagram.com/luizrapatao target=_blank rel=noopener title=Instagram class="fab fa-instagram"></a></li><li><a href=//twitter.com/rapatao target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=skype:rapatao?userinfo target=_blank rel=noopener title=Skype class="fab fa-skype"></a></li><li><a href=mailto:rapatao@rapatao.com target=_blank title=Email class="far fa-envelope"></a></li></ul><p class=copyright>© 2022 rapatao.com<br>Tema: <a href=https://themes.gohugo.io/hugo-future-imperfect-slim/ target=_blank rel=noopener>Hugo Future Imperfect</a><br>Adaptado de <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP</a> | Disponibilizado pelo <a href=https://gohugo.io/ title=0.98.0 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a>
<script src=https://www.rapatao.com/js/highlight.js></script>
<script>hljs.initHighlightingOnLoad()</script><script src=https://www.rapatao.com/js/bundle.min.e3c490304a215e768374afa0f2d6b44dba1a89604557e3010eea64d919f1fbfd.js integrity="sha256-48SQMEohXnaDdK+g8ta0TboaiWBFV+MBDupk2Rnx+/0="></script>
<script src=https://www.rapatao.com/js/add-on.js></script>
<script type=application/javascript>var dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-41287936-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>